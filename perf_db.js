// ==========================================
// ✈️ A330-300 (GE CF6) 性能資料庫 (perf_db.js)
// ==========================================
// 說明：此數據為模擬飛行用標準參考值 (Standard Simulation Data)
// 來源：基於 ISA 標準大氣 / 海平面 / 乾跑道 數據模型

window.perfDB = {
    // --------------------------------------
    // 1. 起飛速度表 (Takeoff Speeds)
    // --------------------------------------
    // 格式：[重量(噸), V1, VR, V2]
    // 基準：Config 1+F, 海平面, 乾跑道
    takeoff_speeds: [
        [130, 122, 125, 130], // 極輕載
        [140, 128, 132, 136],
        [150, 133, 137, 141],
        [160, 138, 142, 146],
        [170, 143, 146, 151],
        [180, 147, 150, 155],
        [190, 151, 155, 159],
        [200, 155, 159, 163],
        [210, 159, 163, 168],
        [220, 163, 167, 172],
        [230, 166, 171, 176],
        [235, 168, 173, 179],
        [242, 170, 175, 181]  // MTOW (最大起飛重)
    ],

    // --------------------------------------
    // 2. 構型修正 (Config Correction)
    // --------------------------------------
    // 說明：相較於 1+F，其他構型的速度修正值
    conf_correction: {
        "1+F": { v1: 0, vr: 0, v2: 0 },
        "2":   { v1: -3, vr: -3, v2: -2 }, // Conf 2 升力大，速度較低
        "3":   { v1: -6, vr: -6, v2: -5 }  // Conf 3 (極短跑道用)
    },

    // --------------------------------------
    // 3. 降落速度表 (Landing Speeds)
    // --------------------------------------
    // 格式：[重量(噸), VLS (最小選定速度)]
    // 說明：Vapp = VLS + 風修正 (至少+5kt)
    // 基準：Conf FULL
    landing_vls_full: [
        [130, 122],
        [140, 126],
        [150, 130],
        [160, 134],
        [170, 138],
        [180, 142], // MLW (最大落地重) 附近
        [190, 146],
        [200, 150],
        [210, 154],
        [230, 162]  // 超重落地 (Overweight Landing)
    ],

    // Conf 3 的修正 (比 FULL 快多少)
    landing_conf3_add: 4, // Conf 3 通常比 FULL 快 4-5 節

    // --------------------------------------
    // 4. Flex 溫度計算參數
    // --------------------------------------
    flex_data: {
        base_temp: 42,      // 基準 Flex (在 MTOW 時)
        max_temp: 68,       // TMAX (最高允許 Flex)
        mtow: 242,          // 最大起飛重
        slope_weight: 0.6,  // 每輕 1 噸，Flex 增加幾度
        slope_runway: 0.01  // 每多 1 公尺跑道，Flex 增加幾度
    },

    // --------------------------------------
    // 5. 配平 (Trim) 轉換表
    // --------------------------------------
    // 簡化公式：CG 與 THS 的對應關係
    // 模擬器通用公式：(30 - CG) * 係數
    trim_data: {
        ref_cg: 30,         // 基準重心 (Trim 0 的位置)
        step: 0.17          // 每差 1% CG，Trim 改變多少
    }
};
