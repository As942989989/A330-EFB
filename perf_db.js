// ==========================================
// ✈️ A330-300 (GE CF6) 性能資料庫 (KG/FT + Atmosphere + N1)
// ==========================================

window.perfDB = {
    // --------------------------------------
    // 1. 起飛速度表 (Takeoff Speeds) [KG]
    // --------------------------------------
    takeoff_speeds: [
        [130000, 122, 125, 130],
        [140000, 128, 132, 136],
        [150000, 133, 137, 141],
        [160000, 138, 142, 146],
        [170000, 143, 146, 151],
        [180000, 147, 150, 155],
        [190000, 151, 155, 159],
        [200000, 155, 159, 163],
        [210000, 159, 163, 168],
        [220000, 163, 167, 172],
        [230000, 166, 171, 176],
        [235000, 168, 173, 179],
        [242000, 170, 175, 181]
    ],

    // --------------------------------------
    // 2. 構型修正
    // --------------------------------------
    conf_correction: {
        "1+F": { v1: 0, vr: 0, v2: 0 },
        "2":   { v1: -3, vr: -3, v2: -2 },
        "3":   { v1: -6, vr: -6, v2: -5 }
    },

    // --------------------------------------
    // 3. 降落速度表 [KG]
    // --------------------------------------
    landing_vls_full: [
        [130000, 122],
        [140000, 126],
        [150000, 130],
        [160000, 134],
        [170000, 138],
        [180000, 142],
        [190000, 146],
        [200000, 150],
        [210000, 154],
        [230000, 162]
    ],
    landing_conf3_add: 4,

    // --------------------------------------
    // 4. Flex 參數 (含大氣修正係數)
    // --------------------------------------
    flex_data: {
        base_temp: 46,
        max_temp: 68,
        mtow: 242000,
        slope_weight: 0.0006,
        slope_runway: 0.003,
        elev_penalty: 2.5,
        delta_t_penalty: 0.5
    },

    // --------------------------------------
    // 5. Trim 物理模型
    // --------------------------------------
    trim_physics: {
        ref_cg: 29.0,
        step: 0.6,
        fuel_cg_effect: 0.00004, 
        deg_to_pct_factor: 8.0, 
        deg_to_pct_bias: 15.0
    },

    // --------------------------------------
    // 6. 基礎物理常數
    // --------------------------------------
    atmosphere: {
        isa_sea_level: 15,
        temp_lapse: 2
    },

    // --------------------------------------
    // 7. N1 引擎參數 (New)
    // --------------------------------------
    n1_physics: {
        base_n1: 98.2,       // 標準 TOGA N1 (%)
        flex_correction: 0.22 // 每 1度 Flex 溫差 (Flex - OAT) 減少的 N1%
    }
};
